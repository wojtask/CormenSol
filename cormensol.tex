\documentclass[a4paper,10pt,twoside,openany,titlepage]{book}
\usepackage[MeX,plmath]{polski}
\usepackage[utf8]{inputenc}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{epsf}
\usepackage[pdftex]{graphicx}
\usepackage{geometry}
\usepackage{calc}
\usepackage{clrscode}
\usepackage{url}
\usepackage{sectsty}
\usepackage{tocloft}
\usepackage[font=small,format=plain,labelfont=sf,bf,up]{caption}
\usepackage[pdfborder={0 0 0},pdftex,bookmarks=true,hypertexnames=false,unicode=true]{hyperref}
\usepackage{cormensol}

\allowdisplaybreaks[1] % to modify

\begin{document}

\frontmatter

\allsectionsfont{\sffamily\bfseries}

\include{title}

\ifpdf
	\def\DelBookmark{\def\@writetorep##1##2##3##4{\relax}}
\else
	\def\DelBookmark{\relax}
\fi

\begingroup
	\DelBookmark
	\include{intro}
\endgroup

\ifpdf
	\addtocontents{toc}{\protect\pdfbookmark{Spis treści}{Tableofcont}}
\fi

\renewcommand{\cfttoctitlefont}{\Huge\sffamily\bfseries}
\renewcommand{\cftpartfont}{\large\sffamily\bfseries}
\renewcommand{\cftpartpagefont}{\large\sffamily\bfseries}
\renewcommand{\cftchapaftersnum}{.}
\renewcommand{\cftchapfont}{\sffamily\bfseries}
\renewcommand{\cftchappagefont}{\sffamily\bfseries}
\renewcommand{\cftsecfont}{\sffamily}
\renewcommand{\cftsecleader}{\sffamily\cftdotfill{\cftsecdotsep}}
\renewcommand{\cftsecpagefont}{\sffamily}

\tableofcontents

\let\mychapter=\chapter
\renewcommand{\chapter}[1]{%
	\mychapter{#1}
	\setcounter{subsection}{0}
	\def\thesubsection{\thechapter.\arabic{section}-\arabic{subsection}.}
	\lhead[\fancyplain{}{\small\sffamily\bfseries\thepage}]{\fancyplain{}{\small\sffamily\bfseries\rightmark}}
}

\makeatletter
	\@afterindentfalse
	\@afterheading
\makeatother

\mainmatter

\part{Podstawy}

\include{ch01}
\include{ch02}
\include{ch03}
\include{ch04}
\include{ch05}

\setcounter{part}{1}
\part{Sortowanie i~statystyki pozycyjne}

\setcounter{chapter}{5}
\include{ch06}
\include{ch07}
\include{ch08}
\include{ch09}

%\setcounter{part}{2}
%\part{Struktury danych}

%\setcounter{chapter}{9}
%\include{ch10}
%\include{ch11}
%\include{ch12}
%\include{ch13}
%\include{ch14}

%\setcounter{part}{3}
%\part{Zaawansowane metody konstruowania i~analizowania algorytmów}

%\setcounter{chapter}{14}
%\include{ch15}
%\include{ch16}
%\include{ch17}

%\setcounter{part}{4}
%\part{Złożone struktury danych}

%\setcounter{chapter}{17}
%\include{ch18}
%\include{ch19}
%\include{ch20}
%\include{ch21}

%\setcounter{part}{5}
%\part{Algorytmy grafowe}

%\setcounter{chapter}{21}
%\include{ch22}
%\include{ch23}
%\include{ch24}
%\include{ch25}
%\include{ch26}

% \setcounter{part}{6}
% \part{Wybrane zagadnienia}

%\setcounter{chapter}{26}
%\include{ch27}
%\include{ch28}
%\include{ch29}
%\include{ch30}
%\include{ch31}
%\include{ch32}
%\include{ch33}
% \setcounter{chapter}{33}
% \include{ch34}
%\include{ch35}

\setcounter{part}{7}
\part{Dodatek: Podstawy matematyczne}

\appendix
\makeatletter
	\@appendixtrue
\makeatother

\include{appa}
\include{appb}
\include{appc}

\backmatter

\let\chapter=\mychapter

\bibliographystyle{plplain}
\bibliography{cormensol}
\nocite{*}

\end{document}
