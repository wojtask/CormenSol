\begin{tikzpicture}[
	cell/.append style = {light grayed, minimum size=4mm},
	med cell/.style = {column #1/.style={nodes={med grayed}}},
	index node/.append style = {node distance=6mm and 2mm},
	outer/.append style = {node distance=10mm and 2mm}
]

\node[outer] (pic a) {
\begin{tikzpicture}
	\matrix[
		array,
		med cell/.list = {1,3,6,8}
	] (arr) {
		& 10 & &  5 &  9 & &    & & 7 & 4 \\
		& 13 & &  8 & 19 & & 11 & & 5 & 4 \\
		&    & & 10 &  4 & &  9 & & 5 & 2 \\
	};
	\draw (arr-3-2.south west) + (1mm, 1mm) -- +(3mm, 3mm);
	\draw (arr-1-7.south west) + (1mm, 1mm) -- +(3mm, 3mm);
	\draw[very thick] (arr-3-1.south west) rectangle (arr-1-10.north east);
	\foreach \x in {2, ..., 10} {
		\draw[very thick] (arr-3-\x.south west) -- (arr-1-\x.north west);
	}
	\foreach \x in {1, ..., 10} {
		\node[index node, above=of arr-1-\x] {\x};
	}
	\node[index node, left=of arr-1-1.west] {$\id{next}$};
	\node[index node, left=of arr-2-1.west] {$\id{key}$};
	\node[index node, left=of arr-3-1.west] {$\id{prev}$};
	\node[cell, above left=3mm and 4mm of arr-1-1] (L) {2};
	\node[left=of L.west] {$L$};
	
	\draw[arrow] (L) -| (arr-1-2.110);
	\draw[arrow] (arr-1-2.70) -- +(0,5mm) -| (arr-1-10.70);
	\draw[arrow] (arr-1-10.110) -- +(0,4mm) -| (arr-1-4.110);
	\draw[arrow] (arr-1-4.70) -- +(0,3mm) -| (arr-1-5.110);
	\draw[arrow] (arr-1-5.70) -- +(0,3mm) -| (arr-1-9.70);
	\draw[arrow] (arr-1-9.110) -- +(0,2mm) -| (arr-1-7);
	
	\draw[arrow] (arr-3-7.south) -- +(0,-2mm) -| (arr-3-9.250);
	\draw[arrow] (arr-3-9.290) -- +(0,-3mm) -| (arr-3-5.290);
	\draw[arrow] (arr-3-5.250) -- +(0,-3mm) -| (arr-3-4.290);
	\draw[arrow] (arr-3-4.250) -- +(0,-4mm) -| (arr-3-10.250);
	\draw[arrow] (arr-3-10.290) -- +(0,-5mm) -| (arr-3-2);
	
	\node[subpicture label, left=10mm of L] {(a)};
\end{tikzpicture}
};

\node[outer, below=of pic a] (pic b) {
\begin{tikzpicture}
	\matrix[
		array,
		med cell/.list = {4,5,6,13,14,15,19,20,21,22,23,24}
	] (arr) {5 & 10 & 16 & & & & 13 & 25 & & 11 & & 1 & & & & 19 & 1 & 28 & & & & & & & 4 & 28 & 7 & 8 & 16 & 25 \\};
	\draw (arr-1-9.south west) + (1mm, 1mm) -- +(3mm, 3mm);
	\draw (arr-1-11.south west) + (1mm, 1mm) -- +(3mm, 3mm);
	\draw[very thick] (arr-1-1.south west) rectangle (arr-1-30.north east);
	\foreach \x in {4, 7, ..., 28} {
		\draw[very thick] (arr-1-\x.south west) -- (arr-1-\x.north west);
	}
	\foreach \x in {1, ..., 30} {
		\node[index node, above=of arr-1-\x] {\x};
	}
	\node[left=of arr-1-1.west] {$A$};
	\node[cell, above left=3mm and 4mm of arr-1-1] (L) {7};
	\node[left=of L.west] {$L$};
	
	\draw[arrow] (L) -| (arr-1-7);
	\draw[arrow] (arr-1-8.north) -- +(0,2mm) -| (arr-1-25);
	\draw[arrow] (arr-1-26.north) -- +(0,2mm) -| (arr-1-28);
	\draw[arrow] (arr-1-29.north) -- +(0,3mm) -| (arr-1-16);
	\draw[arrow] (arr-1-17.north) -- +(0,4mm) -| (arr-1-1);
	\draw[arrow] (arr-1-2.north) -- +(0,3mm) -| (arr-1-10);
	
	\draw[arrow] (arr-1-12.south) -- +(0,-3mm) -| (arr-1-1);
	\draw[arrow] (arr-1-3.south) -- +(0,-4mm) -| (arr-1-16);
	\draw[arrow] (arr-1-18.south) -- +(0,-4mm) -| (arr-1-28);
	\draw[arrow] (arr-1-30.south) -- +(0,-3mm) -| (arr-1-25);
	\draw[arrow] (arr-1-27.south) -- +(0,-2mm) -| (arr-1-7);

	\draw (arr-1-16.south) + (1mm, -1mm) -- +(2mm, -7mm) node[index node, anchor=50] {$\id{key}$};
	\draw (arr-1-17.south) + (0mm, -1mm) -- +(0, -10mm) node[index node, anchor=north] {$\id{next}$};
	\draw (arr-1-18.south) + (-1mm, -1mm) -- +(-2mm, -7mm) node[index node, anchor=140] {$\id{prev}$};
	
	\node[subpicture label, left=10mm of L] {(b)};
\end{tikzpicture}
};

\end{tikzpicture}
